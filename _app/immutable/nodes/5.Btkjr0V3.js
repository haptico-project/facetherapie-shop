import{s as $e,r as tt,a as Be,b as ke,n as Z,c as lt,o as rt}from"../chunks/BVPuvUpV.js";import{S as xe,i as et,d as f,o as we,p as Me,r as d,s as G,E as ze,a as P,b as u,z as ue,c as m,e as v,g as L,f as q,h as b,j as S,t as N,F as st,G as at,k as ye,l as Ee,m as ot,n as Ge,v as nt,w as it,x as ct,y as ut,u as ft,q as dt}from"../chunks/DcS2cyjZ.js";import{p as _t}from"../chunks/SWDdhp1L.js";import{b as ht}from"../chunks/CPvXeQSD.js";import{e as $}from"../chunks/BkagQST5.js";import{f as Ue}from"../chunks/m82hU68I.js";import{l as pt,c as He}from"../chunks/BnnlzB-d.js";const mt=!1,Ot=Object.freeze(Object.defineProperty({__proto__:null,prerender:mt},Symbol.toStringTag,{value:"Module"}));function Qe(s,e,l){const t=s.slice();return t[11]=e[l],t}function Fe(s,e,l){const t=s.slice();return t[14]=e[l],t}function Je(s,e,l){const t=s.slice();return t[17]=e[l],t[19]=l,t}function bt(s){let e,l=$(s[7]),t=[];for(let r=0;r<l.length;r+=1)t[r]=Ke(Je(s,l,r));return{c(){e=b("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=m(r,"DIV",{class:!0});var i=v(e);for(let o=0;o<t.length;o+=1)t[o].l(i);i.forEach(f),this.h()},h(){d(e,"class","flex gap-3 overflow-x-auto")},m(r,i){P(r,e,i);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(r,i){if(i&144){l=$(r[7]);let o;for(o=0;o<l.length;o+=1){const h=Je(r,l,o);t[o]?t[o].p(h,i):(t[o]=Ke(h),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(r){r&&f(e),we(t,r)}}}function Ke(s){let e,l,t,r,i;function o(){return s[9](s[19])}return{c(){e=b("img"),this.h()},l(h){e=m(h,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ke(e.src,l=s[17])||d(e,"src",l),d(e,"alt","thumb"),d(e,"class",t="w-20 h-20 object-cover rounded border cursor-pointer transition-all "+(s[4]===s[19]?"border-color1":"border-gray-200"))},m(h,c){P(h,e,c),r||(i=ue(e,"click",o),r=!0)},p(h,c){s=h,c&16&&t!==(t="w-20 h-20 object-cover rounded border cursor-pointer transition-all "+(s[4]===s[19]?"border-color1":"border-gray-200"))&&d(e,"class",t)},d(h){h&&f(e),r=!1,i()}}}function Re(s){let e,l,t=s[1]==="ja"?"セット内容":"Included Items",r,i,o,h=$(s[0].contents[s[1]]),c=[];for(let n=0;n<h.length;n+=1)c[n]=We(Fe(s,h,n));return{c(){e=b("div"),l=b("h2"),r=N(t),i=S(),o=b("ul");for(let n=0;n<c.length;n+=1)c[n].c();this.h()},l(n){e=m(n,"DIV",{});var g=v(e);l=m(g,"H2",{class:!0});var _=v(l);r=q(_,t),_.forEach(f),i=L(g),o=m(g,"UL",{class:!0});var j=v(o);for(let O=0;O<c.length;O+=1)c[O].l(j);j.forEach(f),g.forEach(f),this.h()},h(){d(l,"class","text-sm font-semibold mb-1"),d(o,"class","list-disc list-inside text-sm text-textColor/90")},m(n,g){P(n,e,g),u(e,l),u(l,r),u(e,i),u(e,o);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(o,null)},p(n,g){if(g&2&&t!==(t=n[1]==="ja"?"セット内容":"Included Items")&&G(r,t),g&3){h=$(n[0].contents[n[1]]);let _;for(_=0;_<h.length;_+=1){const j=Fe(n,h,_);c[_]?c[_].p(j,g):(c[_]=We(j),c[_].c(),c[_].m(o,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=h.length}},d(n){n&&f(e),we(c,n)}}}function We(s){let e,l=s[14]+"",t;return{c(){e=b("li"),t=N(l)},l(r){e=m(r,"LI",{});var i=v(e);t=q(i,l),i.forEach(f)},m(r,i){P(r,e,i),u(e,t)},p(r,i){i&3&&l!==(l=r[14]+"")&&G(t,l)},d(r){r&&f(e)}}}function Xe(s){let e,l=s[11]+"",t;return{c(){e=b("option"),t=N(l),this.h()},l(r){e=m(r,"OPTION",{});var i=v(e);t=q(i,l),i.forEach(f),this.h()},h(){e.__value=s[11],st(e,e.__value)},m(r,i){P(r,e,i),u(e,t)},p:Z,d(r){r&&f(e)}}}function Ye(s){let e,l=s[1]==="ja"?"この商品はすでにカートに追加されています。":"This item is already in your cart.",t;return{c(){e=b("p"),t=N(l),this.h()},l(r){e=m(r,"P",{class:!0});var i=v(e);t=q(i,l),i.forEach(f),this.h()},h(){d(e,"class","text-xs text-orange-600")},m(r,i){P(r,e,i),u(e,t)},p(r,i){i&2&&l!==(l=r[1]==="ja"?"この商品はすでにカートに追加されています。":"This item is already in your cart.")&&G(t,l)},d(r){r&&f(e)}}}function gt(s){let e=s[1]==="ja"?"カートに追加":"Add to Cart",l;return{c(){l=N(e)},l(t){l=q(t,e)},m(t,r){P(t,l,r)},p(t,r){r&2&&e!==(e=t[1]==="ja"?"カートに追加":"Add to Cart")&&G(l,e)},d(t){t&&f(l)}}}function vt(s){let e;return{c(){e=b("span"),this.h()},l(l){e=m(l,"SPAN",{class:!0}),v(e).forEach(f),this.h()},h(){d(e,"class","animate-spin rounded-full border-2 border-white border-t-transparent w-4 h-4 svelte-dlm67b")},m(l,t){P(l,e,t)},p:Z,d(l){l&&f(e)}}}function kt(s){let e=s[1]==="ja"?"カートに追加":"Add to Cart",l;return{c(){l=N(e)},l(t){l=q(t,e)},m(t,r){P(t,l,r)},p(t,r){r&2&&e!==(e=t[1]==="ja"?"カートに追加":"Add to Cart")&&G(l,e)},d(t){t&&f(l)}}}function yt(s){let e;return{c(){e=b("span"),this.h()},l(l){e=m(l,"SPAN",{class:!0}),v(e).forEach(f),this.h()},h(){d(e,"class","animate-spin rounded-full border-2 border-white border-t-transparent w-4 h-4 svelte-dlm67b")},m(l,t){P(l,e,t)},p:Z,d(l){l&&f(e)}}}function Et(s){var Pe,Te;let e,l,t,r,i,o,h,c,n,g,_,j=s[0].name[s[1]]+"",O,y,Q,fe,x=s[0].price.toLocaleString()+"",le,de,R,ee=s[0].description[s[1]]+"",re,_e,se,U,F,te=s[1]==="ja"?"数量":"Quantity",ae,he,T,pe,oe,W,B,me,X,M,H,C,be,Ie,z=s[7].length>1&&bt(s),w=((Te=(Pe=s[0].contents)==null?void 0:Pe[s[1]])==null?void 0:Te.length)&&Re(s),Y=$(Array(10).fill(0).map(Ze)),E=[];for(let a=0;a<Y.length;a+=1)E[a]=Xe(Qe(s,Y,a));let I=s[5]&&Ye(s);function je(a,k){return a[3]?vt:gt}let ne=je(s),D=ne(s);function Ce(a,k){return a[3]?yt:kt}let ie=Ce(s),V=ie(s);return{c(){e=b("div"),l=b("div"),t=b("div"),r=b("img"),h=S(),z&&z.c(),c=S(),n=b("div"),g=b("div"),_=b("h1"),O=N(j),y=S(),Q=b("p"),fe=N("¥"),le=N(x),de=S(),R=b("p"),re=N(ee),_e=S(),w&&w.c(),se=S(),U=b("div"),F=b("label"),ae=N(te),he=S(),T=b("select");for(let a=0;a<E.length;a+=1)E[a].c();pe=S(),I&&I.c(),oe=S(),W=b("div"),B=b("button"),D.c(),me=S(),X=b("div"),M=b("button"),V.c(),this.h()},l(a){e=m(a,"DIV",{class:!0});var k=v(e);l=m(k,"DIV",{class:!0});var A=v(l);t=m(A,"DIV",{class:!0});var J=v(t);r=m(J,"IMG",{src:!0,alt:!0,class:!0}),h=L(J),z&&z.l(J),J.forEach(f),c=L(A),n=m(A,"DIV",{class:!0});var p=v(n);g=m(p,"DIV",{});var K=v(g);_=m(K,"H1",{class:!0});var Ae=v(_);O=q(Ae,j),Ae.forEach(f),y=L(K),Q=m(K,"P",{class:!0});var ge=v(Q);fe=q(ge,"¥"),le=q(ge,x),ge.forEach(f),K.forEach(f),de=L(p),R=m(p,"P",{class:!0});var De=v(R);re=q(De,ee),De.forEach(f),_e=L(p),w&&w.l(p),se=L(p),U=m(p,"DIV",{class:!0});var ce=v(U);F=m(ce,"LABEL",{for:!0,class:!0});var Ve=v(F);ae=q(Ve,te),Ve.forEach(f),he=L(ce),T=m(ce,"SELECT",{id:!0,class:!0});var Le=v(T);for(let ve=0;ve<E.length;ve+=1)E[ve].l(Le);Le.forEach(f),ce.forEach(f),pe=L(p),I&&I.l(p),oe=L(p),W=m(p,"DIV",{class:!0});var Se=v(W);B=m(Se,"BUTTON",{class:!0});var qe=v(B);D.l(qe),qe.forEach(f),Se.forEach(f),me=L(p),X=m(p,"DIV",{class:!0});var Ne=v(X);M=m(Ne,"BUTTON",{class:!0});var Oe=v(M);V.l(Oe),Oe.forEach(f),Ne.forEach(f),p.forEach(f),A.forEach(f),k.forEach(f),this.h()},h(){ke(r.src,i=s[7][s[4]])||d(r,"src",i),d(r,"alt",o=s[0].name[s[1]]),d(r,"class","w-full rounded border object-cover"),d(t,"class","space-y-6 mt-4"),d(_,"class","text-2xl md:text-3xl font-light tracking-wide"),d(Q,"class","mt-2 text-lg font-semibold text-color1"),d(R,"class","text-sm text-textColor/80 leading-relaxed whitespace-pre-wrap"),d(F,"for","qty"),d(F,"class","text-sm"),d(T,"id","qty"),d(T,"class","border rounded px-2 py-1 text-sm"),s[2]===void 0&&Be(()=>s[10].call(T)),d(U,"class","flex items-center gap-3"),d(B,"class","w-full bg-color1 text-white py-3 px-6 rounded hover:opacity-90 transition text-sm tracking-wide flex items-center justify-center gap-2"),B.disabled=s[3],d(W,"class","fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 px-4 py-4 sm:hidden"),d(M,"class","w-full bg-color1 text-white py-3 px-6 rounded hover:opacity-90 transition text-sm tracking-wide flex items-center justify-center gap-2"),M.disabled=s[3],d(X,"class","pt-6 mt-auto hidden sm:block"),d(n,"class","flex flex-col gap-6"),d(l,"class","max-w-7xl mx-auto px-4 md:py-12 sm:py-4 grid grid-cols-1 md:grid-cols-2 gap-12"),d(e,"class","bg-backgroundColor text-textColor font-serif")},m(a,k){P(a,e,k),u(e,l),u(l,t),u(t,r),u(t,h),z&&z.m(t,null),u(l,c),u(l,n),u(n,g),u(g,_),u(_,O),u(g,y),u(g,Q),u(Q,fe),u(Q,le),u(n,de),u(n,R),u(R,re),u(n,_e),w&&w.m(n,null),u(n,se),u(n,U),u(U,F),u(F,ae),u(U,he),u(U,T);for(let A=0;A<E.length;A+=1)E[A]&&E[A].m(T,null);ze(T,s[2],!0),u(n,pe),I&&I.m(n,null),u(n,oe),u(n,W),u(W,B),D.m(B,null),u(n,me),u(n,X),u(X,M),V.m(M,null),C=!0,be||(Ie=[ue(T,"change",s[10]),ue(B,"click",s[6]),ue(M,"click",s[6])],be=!0)},p(a,[k]){var A,J;if((!C||k&16&&!ke(r.src,i=a[7][a[4]]))&&d(r,"src",i),(!C||k&3&&o!==(o=a[0].name[a[1]]))&&d(r,"alt",o),a[7].length>1&&z.p(a,k),(!C||k&3)&&j!==(j=a[0].name[a[1]]+"")&&G(O,j),(!C||k&1)&&x!==(x=a[0].price.toLocaleString()+"")&&G(le,x),(!C||k&3)&&ee!==(ee=a[0].description[a[1]]+"")&&G(re,ee),(J=(A=a[0].contents)==null?void 0:A[a[1]])!=null&&J.length?w?w.p(a,k):(w=Re(a),w.c(),w.m(n,se)):w&&(w.d(1),w=null),(!C||k&2)&&te!==(te=a[1]==="ja"?"数量":"Quantity")&&G(ae,te),k&0){Y=$(Array(10).fill(0).map(Ze));let p;for(p=0;p<Y.length;p+=1){const K=Qe(a,Y,p);E[p]?E[p].p(K,k):(E[p]=Xe(K),E[p].c(),E[p].m(T,null))}for(;p<E.length;p+=1)E[p].d(1);E.length=Y.length}k&4&&ze(T,a[2]),a[5]?I?I.p(a,k):(I=Ye(a),I.c(),I.m(n,oe)):I&&(I.d(1),I=null),ne===(ne=je(a))&&D?D.p(a,k):(D.d(1),D=ne(a),D&&(D.c(),D.m(B,null))),(!C||k&8)&&(B.disabled=a[3]),ie===(ie=Ce(a))&&V?V.p(a,k):(V.d(1),V=ie(a),V&&(V.c(),V.m(M,null))),(!C||k&8)&&(M.disabled=a[3])},i(a){C||(a&&Be(()=>{C&&(H||(H=Me(e,Ue,{duration:400},!0)),H.run(1))}),C=!0)},o(a){a&&(H||(H=Me(e,Ue,{duration:400},!1)),H.run(0)),C=!1},d(a){a&&f(e),z&&z.d(),w&&w.d(),we(E,a),I&&I.d(),D.d(),V.d(),a&&H&&H.end(),be=!1,tt(Ie)}}}const Ze=(s,e)=>e+1;function wt(s,e,l){let t,{product:r}=e,i="ja",o=1,h=[],c=!1;async function n(){l(3,c=!0),await new Promise(y=>setTimeout(y,300));for(let y=0;y<o;y++)He.add(r);l(3,c=!1)}const g=[r.image,...r.images??[]];let _=0;const j=y=>l(4,_=y);function O(){o=at(this),l(2,o)}return s.$$set=y=>{"product"in y&&l(0,r=y.product)},s.$$.update=()=>{s.$$.dirty&257&&l(5,t=h.some(y=>y.id===r.id))},pt.subscribe(y=>l(1,i=y)),He.subscribe(y=>l(8,h=y)),[r,i,o,c,_,t,n,g,h,j,O]}class It extends xe{constructor(e){super(),et(this,e,wt,Et,$e,{product:0})}}function jt(s){let e,l="商品が見つかりませんでした。";return{c(){e=b("p"),e.textContent=l,this.h()},l(t){e=m(t,"P",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-10ufpd8"&&(e.textContent=l),this.h()},h(){d(e,"class","text-center py-24 text-gray-500 font-serif")},m(t,r){P(t,e,r)},p:Z,i:Z,o:Z,d(t){t&&f(e)}}}function Ct(s){let e,l;return e=new It({props:{product:s[0]}}),{c(){ut(e.$$.fragment)},l(t){ct(e.$$.fragment,t)},m(t,r){it(e,t,r),l=!0},p(t,r){const i={};r&1&&(i.product=t[0]),e.$set(i)},i(t){l||(Ee(e.$$.fragment,t),l=!0)},o(t){ye(e.$$.fragment,t),l=!1},d(t){nt(e,t)}}}function Pt(s){let e,l,t,r;const i=[Ct,jt],o=[];function h(c,n){return c[0]?0:1}return e=h(s),l=o[e]=i[e](s),{c(){l.c(),t=Ge()},l(c){l.l(c),t=Ge()},m(c,n){o[e].m(c,n),P(c,t,n),r=!0},p(c,[n]){let g=e;e=h(c),e===g?o[e].p(c,n):(dt(),ye(o[g],1,1,()=>{o[g]=null}),ot(),l=o[e],l?l.p(c,n):(l=o[e]=i[e](c),l.c()),Ee(l,1),l.m(t.parentNode,t))},i(c){r||(Ee(l),r=!0)},o(c){ye(l),r=!1},d(c){c&&f(t),o[e].d(c)}}}function Tt(s,e,l){let t;lt(s,_t,o=>l(1,t=o));let r=null;const i=t.params.id;return rt(async()=>{l(0,r=await ht(i))}),[r]}class Bt extends xe{constructor(e){super(),et(this,e,Tt,Pt,$e,{})}}export{Bt as component,Ot as universal};
