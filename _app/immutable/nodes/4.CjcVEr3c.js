import{s as te,o as le,g as z,n as R}from"../chunks/BVPuvUpV.js";import{S as oe,i as re,d as k,o as X,k as L,l as C,s as $,r as y,m as Y,a as U,b as v,z as Z,c as j,e as E,f as B,g as N,h as A,t as D,j as T,q as ee,v as se,w as ae,x as ne,y as ce}from"../chunks/CIFSHY9N.js";import{e as I}from"../chunks/ML3mL23h.js";import{p as F}from"../chunks/BxQoztar.js";import{g as ie}from"../chunks/Bhe6JPg5.js";import{l as ue}from"../chunks/lPGfs0PJ.js";import{f as fe}from"../chunks/BES1Kgx_.js";import{P as he}from"../chunks/BKs_gkbZ.js";import{a as de}from"../chunks/CGTnkMdf.js";function G(a,e,r){const l=a.slice();return l[8]=e[r],l}function J(a,e,r){const l=a.slice();return l[11]=e[r],l}function K(a){let e,r=a[11]+"",l,t,i,o,n;function s(){return a[7](a[11])}return{c(){e=A("button"),l=D(r),t=T(),this.h()},l(u){e=j(u,"BUTTON",{class:!0});var m=E(e);l=B(m,r),t=N(m),m.forEach(k),this.h()},h(){y(e,"class",i="px-4 py-2 text-sm border rounded hover:bg-color1 transition "+(a[1]===a[11]?"bg-color1 text-white":""))},m(u,m){U(u,e,m),v(e,l),v(e,t),o||(n=Z(e,"click",s),o=!0)},p(u,m){a=u,m&8&&r!==(r=a[11]+"")&&$(l,r),m&10&&i!==(i="px-4 py-2 text-sm border rounded hover:bg-color1 transition "+(a[1]===a[11]?"bg-color1 text-white":""))&&y(e,"class",i)},d(u){u&&k(e),o=!1,n()}}}function _e(a){let e,r=a[0]==="ja"?"該当する商品がありません。":"No products found.",l;return{c(){e=A("p"),l=D(r),this.h()},l(t){e=j(t,"P",{class:!0});var i=E(e);l=B(i,r),i.forEach(k),this.h()},h(){y(e,"class","text-sm text-gray-500")},m(t,i){U(t,e,i),v(e,l)},p(t,i){i&1&&r!==(r=t[0]==="ja"?"該当する商品がありません。":"No products found.")&&$(l,r)},i:R,o:R,d(t){t&&k(e)}}}function pe(a){let e,r,l=I(a[2]),t=[];for(let o=0;o<l.length;o+=1)t[o]=W(G(a,l,o));const i=o=>L(t[o],1,1,()=>{t[o]=null});return{c(){e=A("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=j(o,"DIV",{class:!0});var n=E(e);for(let s=0;s<t.length;s+=1)t[s].l(n);n.forEach(k),this.h()},h(){y(e,"class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6")},m(o,n){U(o,e,n);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null);r=!0},p(o,n){if(n&5){l=I(o[2]);let s;for(s=0;s<l.length;s+=1){const u=G(o,l,s);t[s]?(t[s].p(u,n),C(t[s],1)):(t[s]=W(u),t[s].c(),C(t[s],1),t[s].m(e,null))}for(ee(),s=l.length;s<t.length;s+=1)i(s);Y()}},i(o){if(!r){for(let n=0;n<l.length;n+=1)C(t[n]);r=!0}},o(o){t=t.filter(Boolean);for(let n=0;n<t.length;n+=1)L(t[n]);r=!1},d(o){o&&k(e),X(t,o)}}}function W(a){let e,r;return e=new he({props:{product:a[8],currentLocale:a[0]}}),{c(){ce(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,t){ae(e,l,t),r=!0},p(l,t){const i={};t&4&&(i.product=l[8]),t&1&&(i.currentLocale=l[0]),e.$set(i)},i(l){r||(C(e.$$.fragment,l),r=!0)},o(l){L(e.$$.fragment,l),r=!1},d(l){se(e,l)}}}function me(a){let e,r,l=a[0]==="ja"?"商品一覧":"All Products",t,i,o,n,s=a[0]==="ja"?"すべて":"All",u,m,f,w,g,h,x,V,H,S=I(a[3]),d=[];for(let c=0;c<S.length;c+=1)d[c]=K(J(a,S,c));const M=[pe,_e],P=[];function Q(c,_){return c[2].length>0?0:1}return g=Q(a),h=P[g]=M[g](a),{c(){e=A("div"),r=A("h1"),t=D(l),i=T(),o=A("div"),n=A("button"),u=D(s),f=T();for(let c=0;c<d.length;c+=1)d[c].c();w=T(),h.c(),this.h()},l(c){e=j(c,"DIV",{class:!0});var _=E(e);r=j(_,"H1",{class:!0});var b=E(r);t=B(b,l),b.forEach(k),i=N(_),o=j(_,"DIV",{class:!0});var p=E(o);n=j(p,"BUTTON",{class:!0});var q=E(n);u=B(q,s),q.forEach(k),f=N(p);for(let O=0;O<d.length;O+=1)d[O].l(p);p.forEach(k),w=N(_),h.l(_),_.forEach(k),this.h()},h(){y(r,"class","text-2xl font-light mb-6"),y(n,"class",m="px-4 py-2 text-sm border rounded hover:bg-color1 transition "+(a[1]===null?"bg-color1 text-white":"")),y(o,"class","flex flex-wrap gap-3 mb-10"),y(e,"class","max-w-7xl mx-auto px-4 mt-4 md:py-12 sm:py-4 font-serif text-textColor")},m(c,_){U(c,e,_),v(e,r),v(r,t),v(e,i),v(e,o),v(o,n),v(n,u),v(o,f);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(o,null);v(e,w),P[g].m(e,null),x=!0,V||(H=Z(n,"click",a[6]),V=!0)},p(c,[_]){if((!x||_&1)&&l!==(l=c[0]==="ja"?"商品一覧":"All Products")&&$(t,l),(!x||_&1)&&s!==(s=c[0]==="ja"?"すべて":"All")&&$(u,s),(!x||_&2&&m!==(m="px-4 py-2 text-sm border rounded hover:bg-color1 transition "+(c[1]===null?"bg-color1 text-white":"")))&&y(n,"class",m),_&26){S=I(c[3]);let p;for(p=0;p<S.length;p+=1){const q=J(c,S,p);d[p]?d[p].p(q,_):(d[p]=K(q),d[p].c(),d[p].m(o,null))}for(;p<d.length;p+=1)d[p].d(1);d.length=S.length}let b=g;g=Q(c),g===b?P[g].p(c,_):(ee(),L(P[b],1,1,()=>{P[b]=null}),Y(),h=P[g],h?h.p(c,_):(h=P[g]=M[g](c),h.c()),C(h,1),h.m(e,null))},i(c){x||(C(h),x=!0)},o(c){L(h),x=!1},d(c){c&&k(e),X(d,c),P[g].d(),V=!1,H()}}}function ge(a,e,r){let l,t,i="ja",o=[],n=null;le(async()=>{const f=z(de);r(5,o=(await fe()).filter(h=>!h.disabled).filter(h=>h.allowAgencies?h.allowAgencies.includes(f):!0));const g=z(F).url.searchParams.get("category");g&&r(1,n=g)});function s(f){const w=new URLSearchParams(z(F).url.searchParams);f?w.set("category",f):w.delete("category"),ie(`?${w.toString()}`,{replaceState:!0}),r(1,n=f)}const u=()=>s(null),m=f=>s(f);return a.$$.update=()=>{a.$$.dirty&33&&r(3,l=[...new Set(o.map(f=>f.category[i]))]),a.$$.dirty&35&&r(2,t=n?o.filter(f=>f.category[i]===n):o)},ue.subscribe(f=>r(0,i=f)),[i,n,t,l,s,o,u,m]}class Ae extends oe{constructor(e){super(),re(this,e,ge,me,te,{})}}export{Ae as component};
