import{s as _t,r as mt,a as $e,b as qe,n as te,c as bt,o as vt}from"../chunks/BVPuvUpV.js";import{S as ht,i as pt,d as u,o as Be,p as xe,r as d,s as M,E as et,a as T,b as c,z as ge,c as _,e as b,g as L,f as D,h,j as S,t as V,F as gt,G as kt,k as Ne,l as Oe,m as Et,n as tt,v as yt,w as wt,x as It,y as jt,u as Ct,q as Pt}from"../chunks/CIFSHY9N.js";import{p as Dt}from"../chunks/DsuTb9GI.js";import{a as Vt}from"../chunks/BES1Kgx_.js";import{e as le}from"../chunks/ML3mL23h.js";import{f as lt}from"../chunks/m82hU68I.js";import{l as Lt,c as rt}from"../chunks/lPGfs0PJ.js";const St=!1,Zt=Object.freeze(Object.defineProperty({__proto__:null,prerender:St},Symbol.toStringTag,{value:"Module"}));function st(s,e,l){const t=s.slice();return t[11]=e[l],t}function at(s,e,l){const t=s.slice();return t[14]=e[l],t}function ot(s,e,l){const t=s.slice();return t[17]=e[l],t[19]=l,t}function Tt(s){let e,l=le(s[7]),t=[];for(let r=0;r<l.length;r+=1)t[r]=nt(ot(s,l,r));return{c(){e=h("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=_(r,"DIV",{class:!0});var o=b(e);for(let n=0;n<t.length;n+=1)t[n].l(o);o.forEach(u),this.h()},h(){d(e,"class","flex gap-3 overflow-x-auto")},m(r,o){T(r,e,o);for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(e,null)},p(r,o){if(o&144){l=le(r[7]);let n;for(n=0;n<l.length;n+=1){const p=ot(r,l,n);t[n]?t[n].p(p,o):(t[n]=nt(p),t[n].c(),t[n].m(e,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(r){r&&u(e),Be(t,r)}}}function nt(s){let e,l,t,r,o;function n(){return s[9](s[19])}return{c(){e=h("img"),this.h()},l(p){e=_(p,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){qe(e.src,l=s[17])||d(e,"src",l),d(e,"alt","thumb"),d(e,"class",t="w-20 h-20 object-cover rounded border cursor-pointer transition-all "+(s[4]===s[19]?"border-color1":"border-gray-200"))},m(p,i){T(p,e,i),r||(o=ge(e,"click",n),r=!0)},p(p,i){s=p,i&16&&t!==(t="w-20 h-20 object-cover rounded border cursor-pointer transition-all "+(s[4]===s[19]?"border-color1":"border-gray-200"))&&d(e,"class",t)},d(p){p&&u(e),r=!1,o()}}}function it(s){let e,l,t=s[1]==="ja"?"セット内容":"Included Items",r,o,n,p=le(s[0].contents[s[1]]),i=[];for(let f=0;f<p.length;f+=1)i[f]=ct(at(s,p,f));return{c(){e=h("div"),l=h("h2"),r=V(t),o=S(),n=h("ul");for(let f=0;f<i.length;f+=1)i[f].c();this.h()},l(f){e=_(f,"DIV",{});var g=b(e);l=_(g,"H2",{class:!0});var m=b(l);r=D(m,t),m.forEach(u),o=L(g),n=_(g,"UL",{class:!0});var A=b(n);for(let H=0;H<i.length;H+=1)i[H].l(A);A.forEach(u),g.forEach(u),this.h()},h(){d(l,"class","text-sm font-semibold mb-1"),d(n,"class","list-disc list-inside text-sm text-textColor/90")},m(f,g){T(f,e,g),c(e,l),c(l,r),c(e,o),c(e,n);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(n,null)},p(f,g){if(g&2&&t!==(t=f[1]==="ja"?"セット内容":"Included Items")&&M(r,t),g&3){p=le(f[0].contents[f[1]]);let m;for(m=0;m<p.length;m+=1){const A=at(f,p,m);i[m]?i[m].p(A,g):(i[m]=ct(A),i[m].c(),i[m].m(n,null))}for(;m<i.length;m+=1)i[m].d(1);i.length=p.length}},d(f){f&&u(e),Be(i,f)}}}function ct(s){let e,l=s[14]+"",t;return{c(){e=h("li"),t=V(l)},l(r){e=_(r,"LI",{});var o=b(e);t=D(o,l),o.forEach(u)},m(r,o){T(r,e,o),c(e,t)},p(r,o){o&3&&l!==(l=r[14]+"")&&M(t,l)},d(r){r&&u(e)}}}function ut(s){let e,l=s[11]+"",t;return{c(){e=h("option"),t=V(l),this.h()},l(r){e=_(r,"OPTION",{});var o=b(e);t=D(o,l),o.forEach(u),this.h()},h(){e.__value=s[11],gt(e,e.__value)},m(r,o){T(r,e,o),c(e,t)},p:te,d(r){r&&u(e)}}}function ft(s){let e,l=s[1]==="ja"?"この商品はすでにカートに追加されています。":"This item is already in your cart.",t;return{c(){e=h("p"),t=V(l),this.h()},l(r){e=_(r,"P",{class:!0});var o=b(e);t=D(o,l),o.forEach(u),this.h()},h(){d(e,"class","text-xs text-orange-600")},m(r,o){T(r,e,o),c(e,t)},p(r,o){o&2&&l!==(l=r[1]==="ja"?"この商品はすでにカートに追加されています。":"This item is already in your cart.")&&M(t,l)},d(r){r&&u(e)}}}function At(s){let e=s[1]==="ja"?"カートに追加":"Add to Cart",l;return{c(){l=V(e)},l(t){l=D(t,e)},m(t,r){T(t,l,r)},p(t,r){r&2&&e!==(e=t[1]==="ja"?"カートに追加":"Add to Cart")&&M(l,e)},d(t){t&&u(l)}}}function qt(s){let e;return{c(){e=h("span"),this.h()},l(l){e=_(l,"SPAN",{class:!0}),b(e).forEach(u),this.h()},h(){d(e,"class","animate-spin rounded-full border-2 border-white border-t-transparent w-4 h-4 svelte-dlm67b")},m(l,t){T(l,e,t)},p:te,d(l){l&&u(e)}}}function Nt(s){let e=s[1]==="ja"?"カートに追加":"Add to Cart",l;return{c(){l=V(e)},l(t){l=D(t,e)},m(t,r){T(t,l,r)},p(t,r){r&2&&e!==(e=t[1]==="ja"?"カートに追加":"Add to Cart")&&M(l,e)},d(t){t&&u(l)}}}function Ot(s){let e;return{c(){e=h("span"),this.h()},l(l){e=_(l,"SPAN",{class:!0}),b(e).forEach(u),this.h()},h(){d(e,"class","animate-spin rounded-full border-2 border-white border-t-transparent w-4 h-4 svelte-dlm67b")},m(l,t){T(l,e,t)},p:te,d(l){l&&u(e)}}}function Bt(s){var He,Ue;let e,l,t,r,o,n,p,i,f,g,m=s[0].name[s[1]]+"",A,H,k,ke,re=s[0].price.toLocaleString()+"",ie,Ee,ye,E,J,Y,se=s[0].name[s[1]]+"",ce,we,K,Ie,ae=s[0].price.toLocaleString()+"",ue,je,Z,oe=s[0].description[s[1]]+"",fe,Ce,de,Q,R,ne=s[1]==="ja"?"数量":"Quantity",_e,Pe,q,De,he,$,z,Ve,x,G,F,C,Le,Me,U=s[7].length>0&&Tt(s),I=((Ue=(He=s[0].contents)==null?void 0:He[s[1]])==null?void 0:Ue.length)&&it(s),ee=le(Array(10).fill(0).map(dt)),y=[];for(let a=0;a<ee.length;a+=1)y[a]=ut(st(s,ee,a));let j=s[5]&&ft(s);function ze(a,v){return a[3]?qt:At}let pe=ze(s),O=pe(s);function Ge(a,v){return a[3]?Ot:Nt}let me=Ge(s),B=me(s);return{c(){e=h("div"),l=h("div"),t=h("div"),r=h("div"),o=h("img"),i=S(),f=h("div"),g=h("h1"),A=V(m),H=S(),k=h("p"),ke=V("¥"),ie=V(re),Ee=S(),U&&U.c(),ye=S(),E=h("div"),J=h("div"),Y=h("h1"),ce=V(se),we=S(),K=h("p"),Ie=V("¥"),ue=V(ae),je=S(),Z=h("p"),fe=V(oe),Ce=S(),I&&I.c(),de=S(),Q=h("div"),R=h("label"),_e=V(ne),Pe=S(),q=h("select");for(let a=0;a<y.length;a+=1)y[a].c();De=S(),j&&j.c(),he=S(),$=h("div"),z=h("button"),O.c(),Ve=S(),x=h("div"),G=h("button"),B.c(),this.h()},l(a){e=_(a,"DIV",{class:!0});var v=b(e);l=_(v,"DIV",{class:!0});var N=b(l);t=_(N,"DIV",{class:!0});var W=b(t);r=_(W,"DIV",{class:!0});var w=b(r);o=_(w,"IMG",{src:!0,alt:!0,class:!0}),i=L(w),f=_(w,"DIV",{class:!0});var X=b(f);g=_(X,"H1",{class:!0});var Qe=b(g);A=D(Qe,m),Qe.forEach(u),H=L(X),k=_(X,"P",{class:!0});var Se=b(k);ke=D(Se,"¥"),ie=D(Se,re),Se.forEach(u),X.forEach(u),w.forEach(u),Ee=L(W),U&&U.l(W),W.forEach(u),ye=L(N),E=_(N,"DIV",{class:!0});var P=b(E);J=_(P,"DIV",{});var be=b(J);Y=_(be,"H1",{class:!0});var Fe=b(Y);ce=D(Fe,se),Fe.forEach(u),we=L(be),K=_(be,"P",{class:!0});var Te=b(K);Ie=D(Te,"¥"),ue=D(Te,ae),Te.forEach(u),be.forEach(u),je=L(P),Z=_(P,"P",{class:!0});var Je=b(Z);fe=D(Je,oe),Je.forEach(u),Ce=L(P),I&&I.l(P),de=L(P),Q=_(P,"DIV",{class:!0});var ve=b(Q);R=_(ve,"LABEL",{for:!0,class:!0});var Ke=b(R);_e=D(Ke,ne),Ke.forEach(u),Pe=L(ve),q=_(ve,"SELECT",{id:!0,class:!0});var Re=b(q);for(let Ae=0;Ae<y.length;Ae+=1)y[Ae].l(Re);Re.forEach(u),ve.forEach(u),De=L(P),j&&j.l(P),he=L(P),$=_(P,"DIV",{class:!0});var We=b($);z=_(We,"BUTTON",{class:!0});var Xe=b(z);O.l(Xe),Xe.forEach(u),We.forEach(u),Ve=L(P),x=_(P,"DIV",{class:!0});var Ye=b(x);G=_(Ye,"BUTTON",{class:!0});var Ze=b(G);B.l(Ze),Ze.forEach(u),Ye.forEach(u),P.forEach(u),N.forEach(u),v.forEach(u),this.h()},h(){qe(o.src,n=s[7][s[4]])||d(o,"src",n),d(o,"alt",p=s[0].name[s[1]]),d(o,"class","max-w-full max-h-full object-contain"),d(g,"class","text-base font-semibold"),d(k,"class","text-sm font-medium"),d(f,"class","absolute top-4 left-4 bg-black/60 text-white p-2 rounded text-sm sm:hidden"),d(r,"class","relative w-full h-[300px] bg-black flex items-center justify-center rounded border overflow-hidden"),d(t,"class","space-y-6 mt-4"),d(Y,"class","text-2xl md:text-3xl font-light tracking-wide"),d(K,"class","mt-2 text-lg font-semibold text-color1"),d(Z,"class","text-sm text-textColor/80 leading-relaxed whitespace-pre-wrap"),d(R,"for","qty"),d(R,"class","text-sm"),d(q,"id","qty"),d(q,"class","border rounded px-2 py-1 text-sm"),s[2]===void 0&&$e(()=>s[10].call(q)),d(Q,"class","flex items-center gap-3"),d(z,"class","w-full bg-color1 text-white py-3 px-6 rounded hover:opacity-90 transition text-sm tracking-wide flex items-center justify-center gap-2"),z.disabled=s[3],d($,"class","fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 px-4 py-4 sm:hidden"),d(G,"class","w-full bg-color1 text-white py-3 px-6 rounded hover:opacity-90 transition text-sm tracking-wide flex items-center justify-center gap-2"),G.disabled=s[3],d(x,"class","pt-6 mt-auto hidden sm:block"),d(E,"class","flex flex-col gap-6"),d(l,"class","max-w-7xl mx-auto px-4 md:py-12 sm:py-4 grid grid-cols-1 md:grid-cols-2 gap-12"),d(e,"class","bg-backgroundColor text-textColor font-serif")},m(a,v){T(a,e,v),c(e,l),c(l,t),c(t,r),c(r,o),c(r,i),c(r,f),c(f,g),c(g,A),c(f,H),c(f,k),c(k,ke),c(k,ie),c(t,Ee),U&&U.m(t,null),c(l,ye),c(l,E),c(E,J),c(J,Y),c(Y,ce),c(J,we),c(J,K),c(K,Ie),c(K,ue),c(E,je),c(E,Z),c(Z,fe),c(E,Ce),I&&I.m(E,null),c(E,de),c(E,Q),c(Q,R),c(R,_e),c(Q,Pe),c(Q,q);for(let N=0;N<y.length;N+=1)y[N]&&y[N].m(q,null);et(q,s[2],!0),c(E,De),j&&j.m(E,null),c(E,he),c(E,$),c($,z),O.m(z,null),c(E,Ve),c(E,x),c(x,G),B.m(G,null),C=!0,Le||(Me=[ge(q,"change",s[10]),ge(z,"click",s[6]),ge(G,"click",s[6])],Le=!0)},p(a,[v]){var N,W;if((!C||v&16&&!qe(o.src,n=a[7][a[4]]))&&d(o,"src",n),(!C||v&3&&p!==(p=a[0].name[a[1]]))&&d(o,"alt",p),(!C||v&3)&&m!==(m=a[0].name[a[1]]+"")&&M(A,m),(!C||v&1)&&re!==(re=a[0].price.toLocaleString()+"")&&M(ie,re),a[7].length>0&&U.p(a,v),(!C||v&3)&&se!==(se=a[0].name[a[1]]+"")&&M(ce,se),(!C||v&1)&&ae!==(ae=a[0].price.toLocaleString()+"")&&M(ue,ae),(!C||v&3)&&oe!==(oe=a[0].description[a[1]]+"")&&M(fe,oe),(W=(N=a[0].contents)==null?void 0:N[a[1]])!=null&&W.length?I?I.p(a,v):(I=it(a),I.c(),I.m(E,de)):I&&(I.d(1),I=null),(!C||v&2)&&ne!==(ne=a[1]==="ja"?"数量":"Quantity")&&M(_e,ne),v&0){ee=le(Array(10).fill(0).map(dt));let w;for(w=0;w<ee.length;w+=1){const X=st(a,ee,w);y[w]?y[w].p(X,v):(y[w]=ut(X),y[w].c(),y[w].m(q,null))}for(;w<y.length;w+=1)y[w].d(1);y.length=ee.length}v&4&&et(q,a[2]),a[5]?j?j.p(a,v):(j=ft(a),j.c(),j.m(E,he)):j&&(j.d(1),j=null),pe===(pe=ze(a))&&O?O.p(a,v):(O.d(1),O=pe(a),O&&(O.c(),O.m(z,null))),(!C||v&8)&&(z.disabled=a[3]),me===(me=Ge(a))&&B?B.p(a,v):(B.d(1),B=me(a),B&&(B.c(),B.m(G,null))),(!C||v&8)&&(G.disabled=a[3])},i(a){C||(a&&$e(()=>{C&&(F||(F=xe(e,lt,{duration:400},!0)),F.run(1))}),C=!0)},o(a){a&&(F||(F=xe(e,lt,{duration:400},!1)),F.run(0)),C=!1},d(a){a&&u(e),U&&U.d(),I&&I.d(),Be(y,a),j&&j.d(),O.d(),B.d(),a&&F&&F.end(),Le=!1,mt(Me)}}}const dt=(s,e)=>e+1;function Mt(s,e,l){let t,{product:r}=e,o="ja",n=1,p=[],i=!1;async function f(){l(3,i=!0),await new Promise(k=>setTimeout(k,300));for(let k=0;k<n;k++)rt.add(r);l(3,i=!1)}const g=r.images;let m=0;const A=k=>l(4,m=k);function H(){n=kt(this),l(2,n)}return s.$$set=k=>{"product"in k&&l(0,r=k.product)},s.$$.update=()=>{s.$$.dirty&257&&l(5,t=p.some(k=>k.id===r.id))},Lt.subscribe(k=>l(1,o=k)),rt.subscribe(k=>l(8,p=k)),[r,o,n,i,m,t,f,g,p,A,H]}class zt extends ht{constructor(e){super(),pt(this,e,Mt,Bt,_t,{product:0})}}function Gt(s){let e,l="商品が見つかりませんでした。";return{c(){e=h("p"),e.textContent=l,this.h()},l(t){e=_(t,"P",{class:!0,"data-svelte-h":!0}),Ct(e)!=="svelte-10ufpd8"&&(e.textContent=l),this.h()},h(){d(e,"class","text-center py-24 text-gray-500 font-serif")},m(t,r){T(t,e,r)},p:te,i:te,o:te,d(t){t&&u(e)}}}function Ht(s){let e,l;return e=new zt({props:{product:s[0]}}),{c(){jt(e.$$.fragment)},l(t){It(e.$$.fragment,t)},m(t,r){wt(e,t,r),l=!0},p(t,r){const o={};r&1&&(o.product=t[0]),e.$set(o)},i(t){l||(Oe(e.$$.fragment,t),l=!0)},o(t){Ne(e.$$.fragment,t),l=!1},d(t){yt(e,t)}}}function Ut(s){let e,l,t,r;const o=[Ht,Gt],n=[];function p(i,f){return i[0]?0:1}return e=p(s),l=n[e]=o[e](s),{c(){l.c(),t=tt()},l(i){l.l(i),t=tt()},m(i,f){n[e].m(i,f),T(i,t,f),r=!0},p(i,[f]){let g=e;e=p(i),e===g?n[e].p(i,f):(Pt(),Ne(n[g],1,1,()=>{n[g]=null}),Et(),l=n[e],l?l.p(i,f):(l=n[e]=o[e](i),l.c()),Oe(l,1),l.m(t.parentNode,t))},i(i){r||(Oe(l),r=!0)},o(i){Ne(l),r=!1},d(i){i&&u(t),n[e].d(i)}}}function Qt(s,e,l){let t;bt(s,Dt,n=>l(1,t=n));let r=null;const o=t.params.id;return vt(async()=>{l(0,r=await Vt(o))}),[r]}class $t extends ht{constructor(e){super(),pt(this,e,Qt,Ut,_t,{})}}export{$t as component,Zt as universal};
