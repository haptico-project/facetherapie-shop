import{S as te,i as le,s as oe,d as k,v as X,m as D,o as A,a as T,z as P,p as Y,b as U,c as v,F as Z,e as j,f as E,g as $,h as L,j as S,t as q,k as N,r as re,u as M,y as ee,n as Q,B as se,C as ae,D as ne,E as ce}from"../chunks/CyGnMK_p.js";import{e as I}from"../chunks/DqW0dsDk.js";import"../chunks/IHki7fMi.js";import{p as R}from"../chunks/CA2rcxgS.js";import{g as ie}from"../chunks/-u6XN21u.js";import{l as ue}from"../chunks/CIZiT7pB.js";import{f as fe}from"../chunks/B4rmEKiw.js";import{P as he}from"../chunks/tWgTN1dr.js";function G(a,e,r){const l=a.slice();return l[8]=e[r],l}function J(a,e,r){const l=a.slice();return l[11]=e[r],l}function K(a){let e,r=a[11]+"",l,t,i,o,n;function s(){return a[7](a[11])}return{c(){e=S("button"),l=q(r),t=N(),this.h()},l(u){e=j(u,"BUTTON",{class:!0});var p=E(e);l=$(p,r),t=L(p),p.forEach(k),this.h()},h(){P(e,"class",i="px-4 py-2 text-sm border rounded hover:bg-color1 transition "+(a[1]===a[11]?"bg-color1 text-white":""))},m(u,p){U(u,e,p),v(e,l),v(e,t),o||(n=Z(e,"click",s),o=!0)},p(u,p){a=u,p&8&&r!==(r=a[11]+"")&&T(l,r),p&10&&i!==(i="px-4 py-2 text-sm border rounded hover:bg-color1 transition "+(a[1]===a[11]?"bg-color1 text-white":""))&&P(e,"class",i)},d(u){u&&k(e),o=!1,n()}}}function _e(a){let e,r=a[0]==="ja"?"該当する商品がありません。":"No products found.",l;return{c(){e=S("p"),l=q(r),this.h()},l(t){e=j(t,"P",{class:!0});var i=E(e);l=$(i,r),i.forEach(k),this.h()},h(){P(e,"class","text-sm text-gray-500")},m(t,i){U(t,e,i),v(e,l)},p(t,i){i&1&&r!==(r=t[0]==="ja"?"該当する商品がありません。":"No products found.")&&T(l,r)},i:Q,o:Q,d(t){t&&k(e)}}}function de(a){let e,r,l=I(a[2]),t=[];for(let o=0;o<l.length;o+=1)t[o]=W(G(a,l,o));const i=o=>D(t[o],1,1,()=>{t[o]=null});return{c(){e=S("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=j(o,"DIV",{class:!0});var n=E(e);for(let s=0;s<t.length;s+=1)t[s].l(n);n.forEach(k),this.h()},h(){P(e,"class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6")},m(o,n){U(o,e,n);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null);r=!0},p(o,n){if(n&5){l=I(o[2]);let s;for(s=0;s<l.length;s+=1){const u=G(o,l,s);t[s]?(t[s].p(u,n),A(t[s],1)):(t[s]=W(u),t[s].c(),A(t[s],1),t[s].m(e,null))}for(ee(),s=l.length;s<t.length;s+=1)i(s);Y()}},i(o){if(!r){for(let n=0;n<l.length;n+=1)A(t[n]);r=!0}},o(o){t=t.filter(Boolean);for(let n=0;n<t.length;n+=1)D(t[n]);r=!1},d(o){o&&k(e),X(t,o)}}}function W(a){let e,r;return e=new he({props:{product:a[8],currentLocale:a[0]}}),{c(){ce(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,t){ae(e,l,t),r=!0},p(l,t){const i={};t&4&&(i.product=l[8]),t&1&&(i.currentLocale=l[0]),e.$set(i)},i(l){r||(A(e.$$.fragment,l),r=!0)},o(l){D(e.$$.fragment,l),r=!1},d(l){se(e,l)}}}function pe(a){let e,r,l=a[0]==="ja"?"商品一覧":"All Products",t,i,o,n,s=a[0]==="ja"?"すべて":"All",u,p,d,y,m,g,x,V,z,C=I(a[3]),f=[];for(let c=0;c<C.length;c+=1)f[c]=K(J(a,C,c));const F=[de,_e],w=[];function H(c,h){return c[2].length>0?0:1}return m=H(a),g=w[m]=F[m](a),{c(){e=S("div"),r=S("h1"),t=q(l),i=N(),o=S("div"),n=S("button"),u=q(s),d=N();for(let c=0;c<f.length;c+=1)f[c].c();y=N(),g.c(),this.h()},l(c){e=j(c,"DIV",{class:!0});var h=E(e);r=j(h,"H1",{class:!0});var b=E(r);t=$(b,l),b.forEach(k),i=L(h),o=j(h,"DIV",{class:!0});var _=E(o);n=j(_,"BUTTON",{class:!0});var B=E(n);u=$(B,s),B.forEach(k),d=L(_);for(let O=0;O<f.length;O+=1)f[O].l(_);_.forEach(k),y=L(h),g.l(h),h.forEach(k),this.h()},h(){P(r,"class","text-2xl font-light mb-6"),P(n,"class",p="px-4 py-2 text-sm border rounded hover:bg-color1 transition "+(a[1]===null?"bg-color1 text-white":"")),P(o,"class","flex flex-wrap gap-3 mb-10"),P(e,"class","max-w-7xl mx-auto px-4 mt-4 md:py-12 sm:py-4 font-serif text-textColor")},m(c,h){U(c,e,h),v(e,r),v(r,t),v(e,i),v(e,o),v(o,n),v(n,u),v(o,d);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(o,null);v(e,y),w[m].m(e,null),x=!0,V||(z=Z(n,"click",a[6]),V=!0)},p(c,[h]){if((!x||h&1)&&l!==(l=c[0]==="ja"?"商品一覧":"All Products")&&T(t,l),(!x||h&1)&&s!==(s=c[0]==="ja"?"すべて":"All")&&T(u,s),(!x||h&2&&p!==(p="px-4 py-2 text-sm border rounded hover:bg-color1 transition "+(c[1]===null?"bg-color1 text-white":"")))&&P(n,"class",p),h&26){C=I(c[3]);let _;for(_=0;_<C.length;_+=1){const B=J(c,C,_);f[_]?f[_].p(B,h):(f[_]=K(B),f[_].c(),f[_].m(o,null))}for(;_<f.length;_+=1)f[_].d(1);f.length=C.length}let b=m;m=H(c),m===b?w[m].p(c,h):(ee(),D(w[b],1,1,()=>{w[b]=null}),Y(),g=w[m],g?g.p(c,h):(g=w[m]=F[m](c),g.c()),A(g,1),g.m(e,null))},i(c){x||(A(g),x=!0)},o(c){D(g),x=!1},d(c){c&&k(e),X(f,c),w[m].d(),V=!1,z()}}}function me(a,e,r){let l,t,i="ja",o=[],n=null;re(async()=>{r(5,o=await fe());const y=M(R).url.searchParams.get("category");y&&r(1,n=y)});function s(d){const y=new URLSearchParams(M(R).url.searchParams);d?y.set("category",d):y.delete("category"),ie(`?${y.toString()}`,{replaceState:!0}),r(1,n=d)}const u=()=>s(null),p=d=>s(d);return a.$$.update=()=>{a.$$.dirty&33&&r(3,l=[...new Set(o.map(d=>d.category[i]))]),a.$$.dirty&35&&r(2,t=n?o.filter(d=>d.category[i]===n):o)},ue.subscribe(d=>r(0,i=d)),[i,n,t,l,s,o,u,p]}class je extends te{constructor(e){super(),le(this,e,me,pe,oe,{})}}export{je as component};
